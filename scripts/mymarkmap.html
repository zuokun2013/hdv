<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>

</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@6.7.0"></script><script src="dist/index.js"></script><script>((getMarkmap, getOptions, root, jsonOptions) => {
  const markmap = getMarkmap();
  window.mm = markmap.Markmap.create('svg#mindmap', getOptions == null ? void 0 : getOptions(markmap, jsonOptions), root);
})(() => window.markmap,(markmap, jsonOptions) => markmap.deriveOptions(jsonOptions),{"type":"root","depth":0,"content":"","children":[{"type":"paragraph","depth":1,"payload":{"lines":[0,1]},"content":"New Mindmap"},{"type":"bullet_list","depth":1,"payload":{"lines":[1,396]},"content":"","children":[{"type":"list_item","depth":2,"payload":{"lines":[1,2]},"content":"现观庄严论疏  \\  释量论·成量品释科判"},{"type":"list_item","depth":2,"payload":{"lines":[2,3]},"content":"释量论·成量品释科判"},{"type":"list_item","depth":2,"payload":{"lines":[3,4]},"content":"全品分三： 277","children":[{"type":"list_item","depth":4,"payload":{"lines":[4,5]},"content":"甲一、宣说佛为量士夫分二： 277","children":[{"type":"list_item","depth":6,"payload":{"lines":[5,6]},"content":"乙一、宣说量之总法相分三： 277","children":[{"type":"list_item","depth":8,"payload":{"lines":[6,7]},"content":"丙一、宣说正量之法相： 277"},{"type":"list_item","depth":8,"payload":{"lines":[7,8]},"content":"丙二、其中否定成立理： 277"},{"type":"list_item","depth":8,"payload":{"lines":[8,9]},"content":"丙三、遣除于此之辩诤分三： 281","children":[{"type":"list_item","depth":10,"payload":{"lines":[9,10]},"content":"丁一、唯识是量合理性： 281"},{"type":"list_item","depth":10,"payload":{"lines":[10,11]},"content":"丁二、量论并非无意义： 282"},{"type":"list_item","depth":10,"payload":{"lines":[11,12]},"content":"丁三、依法相说此一义分二： 284","children":[{"type":"list_item","depth":12,"payload":{"lines":[12,13]},"content":"戊一、真实说： 284"},{"type":"list_item","depth":12,"payload":{"lines":[13,14]},"content":"戊二、断疑虑： 285"}]}]}]},{"type":"list_item","depth":6,"payload":{"lines":[14,15]},"content":"乙二、是故说佛为正量分二： 286","children":[{"type":"list_item","depth":8,"payload":{"lines":[15,16]},"content":"丙一、安立成量之自宗： 286"},{"type":"list_item","depth":8,"payload":{"lines":[16,17]},"content":"丙二、破许自生量他宗分二： 287","children":[{"type":"list_item","depth":10,"payload":{"lines":[17,18]},"content":"丁一、遮破正量为常有： 287"},{"type":"list_item","depth":10,"payload":{"lines":[18,19]},"content":"丁二、遮破具量自在天分二： 288","children":[{"type":"list_item","depth":12,"payload":{"lines":[19,20]},"content":"戊一、观察彼常无常破： 288"},{"type":"list_item","depth":12,"payload":{"lines":[20,21]},"content":"戊二、破是一切之作者分二： 289","children":[{"type":"list_item","depth":14,"payload":{"lines":[21,22]},"content":"己一、无能立分二： 289","children":[{"type":"list_item","depth":16,"payload":{"lines":[22,23]},"content":"庚一、说非真实之能立： 289"},{"type":"list_item","depth":16,"payload":{"lines":[23,24]},"content":"庚二、详细说明彼之理分三： 291","children":[{"type":"list_item","depth":18,"payload":{"lines":[24,25]},"content":"辛一、真实分二： 291","children":[{"type":"list_item","depth":20,"payload":{"lines":[25,26]},"content":"壬一、形义不能堪当因分二： 291","children":[{"type":"list_item","depth":22,"payload":{"lines":[26,27]},"content":"癸一、具特点形无宗法： 291"},{"type":"list_item","depth":22,"payload":{"lines":[27,28]},"content":"癸二、唯形是因不决定分三： 292","children":[{"type":"list_item","depth":24,"payload":{"lines":[28,29]},"content":"子一、不定： 292"},{"type":"list_item","depth":24,"payload":{"lines":[29,30]},"content":"子二、若定极过分： 294"},{"type":"list_item","depth":24,"payload":{"lines":[30,31]},"content":"子三、遣成果同似能破： 294"}]}]},{"type":"list_item","depth":20,"payload":{"lines":[31,32]},"content":"壬二、唯独形名非是因分二： 296","children":[{"type":"list_item","depth":22,"payload":{"lines":[32,33]},"content":"癸一、唯独形名非因喻： 296"},{"type":"list_item","depth":22,"payload":{"lines":[33,34]},"content":"癸二、若是因则极过分： 297"}]}]},{"type":"list_item","depth":18,"payload":{"lines":[34,35]},"content":"辛二、破他宗理： 297"},{"type":"list_item","depth":18,"payload":{"lines":[35,36]},"content":"辛三、宣说彼之成立义： 299"}]}]},{"type":"list_item","depth":14,"payload":{"lines":[36,37]},"content":"己二、有能害分三： 302","children":[{"type":"list_item","depth":16,"payload":{"lines":[37,38]},"content":"庚一、因与非因成相同： 302"},{"type":"list_item","depth":16,"payload":{"lines":[38,39]},"content":"庚二、应成无关因之喻： 303"},{"type":"list_item","depth":16,"payload":{"lines":[39,40]},"content":"庚三、宣说彼宗极过分分二： 304","children":[{"type":"list_item","depth":18,"payload":{"lines":[40,41]},"content":"辛一、真说分二： 304","children":[{"type":"list_item","depth":20,"payload":{"lines":[41,42]},"content":"壬一、随存随灭不成理： 304"},{"type":"list_item","depth":20,"payload":{"lines":[42,43]},"content":"壬二、是故宣说极过分： 305"}]},{"type":"list_item","depth":18,"payload":{"lines":[43,44]},"content":"辛二、破彼答复分二： 305","children":[{"type":"list_item","depth":20,"payload":{"lines":[44,45]},"content":"壬一、分破不定之二喻： 305"},{"type":"list_item","depth":20,"payload":{"lines":[45,46]},"content":"壬二、归摄共同之意义： 306"}]}]}]}]}]}]}]}]},{"type":"list_item","depth":4,"payload":{"lines":[46,47]},"content":"甲二、广说彼为量能立分二： 307","children":[{"type":"list_item","depth":6,"payload":{"lines":[47,48]},"content":"乙一、安立能立之理证分二： 307","children":[{"type":"list_item","depth":8,"payload":{"lines":[48,49]},"content":"丙一、遮破承许无能立分二： 307","children":[{"type":"list_item","depth":10,"payload":{"lines":[49,50]},"content":"丁一、说对方许： 307"},{"type":"list_item","depth":10,"payload":{"lines":[50,51]},"content":"丁二、破彼： 308"}]},{"type":"list_item","depth":8,"payload":{"lines":[51,52]},"content":"丙二、宣说真实之能立分二： 310","children":[{"type":"list_item","depth":10,"payload":{"lines":[52,53]},"content":"丁一、欲等顺式依道说分二： 310","children":[{"type":"list_item","depth":12,"payload":{"lines":[53,54]},"content":"戊一、因圆满分二： 310","children":[{"type":"list_item","depth":14,"payload":{"lines":[54,55]},"content":"己一、各自宣说分二： 310","children":[{"type":"list_item","depth":16,"payload":{"lines":[55,56]},"content":"庚一、意乐圆满说欲利分二： 310","children":[{"type":"list_item","depth":18,"payload":{"lines":[56,57]},"content":"辛一、真实宣说： 310"},{"type":"list_item","depth":18,"payload":{"lines":[57,58]},"content":"辛二、遣诤分二： 310","children":[{"type":"list_item","depth":20,"payload":{"lines":[58,59]},"content":"壬一、遣除修习不容诤分二： 310","children":[{"type":"list_item","depth":22,"payload":{"lines":[59,60]},"content":"癸一、略说： 311"},{"type":"list_item","depth":22,"payload":{"lines":[60,61]},"content":"癸二、广宣说分二： 311","children":[{"type":"list_item","depth":24,"payload":{"lines":[61,62]},"content":"子一、许心依身无能立分二： 311","children":[{"type":"list_item","depth":26,"payload":{"lines":[62,63]},"content":"丑一、破他宗分二： 311","children":[{"type":"list_item","depth":28,"payload":{"lines":[63,64]},"content":"寅一、破许非同时所依分二： 311","children":[{"type":"list_item","depth":30,"payload":{"lines":[64,65]},"content":"卯一、宣说彼者无随存： 311","children":[{"type":"list_item","depth":32,"payload":{"lines":[65,66]},"content":"辰一、遮破相似之随存分二： 311","children":[{"type":"list_item","depth":34,"payload":{"lines":[66,67]},"content":"巳一、建立自同类随存： 311"},{"type":"list_item","depth":34,"payload":{"lines":[67,68]},"content":"巳二、广说彼之合理性分二： 312","children":[{"type":"list_item","depth":36,"payload":{"lines":[68,69]},"content":"午一、生之前际续随存分二： 312","children":[{"type":"list_item","depth":38,"payload":{"lines":[69,70]},"content":"未一、总说分二： 312","children":[{"type":"list_item","depth":40,"payload":{"lines":[70,71]},"content":"申一、宣说遮破分二： 312","children":[{"type":"list_item","depth":42,"payload":{"lines":[71,72]},"content":"酉一、一切皆应成产生： 312"},{"type":"list_item","depth":42,"payload":{"lines":[72,73]},"content":"酉二、因果应成颠倒矣： 313"}]},{"type":"list_item","depth":40,"payload":{"lines":[73,74]},"content":"申二、除违教： 314"}]},{"type":"list_item","depth":38,"payload":{"lines":[74,75]},"content":"未二、分别破常法： 315"}]},{"type":"list_item","depth":36,"payload":{"lines":[75,76]},"content":"午二、后际相续随存理分二： 316","children":[{"type":"list_item","depth":38,"payload":{"lines":[76,77]},"content":"未一、简略宣说无能立： 316"},{"type":"list_item","depth":38,"payload":{"lines":[77,78]},"content":"未二、详细宣说彼意义分二： 316","children":[{"type":"list_item","depth":40,"payload":{"lines":[78,79]},"content":"申一、遮破分二： 316","children":[{"type":"list_item","depth":42,"payload":{"lines":[79,80]},"content":"酉一、比喻不成： 316"},{"type":"list_item","depth":42,"payload":{"lines":[80,81]},"content":"酉二、无推理分二： 317","children":[{"type":"list_item","depth":44,"payload":{"lines":[81,82]},"content":"戌一、许不成立： 317"},{"type":"list_item","depth":44,"payload":{"lines":[82,83]},"content":"戌二、破彼分二： 317","children":[{"type":"list_item","depth":46,"payload":{"lines":[83,84]},"content":"亥一、破由具根身所生： 317"},{"type":"list_item","depth":46,"payload":{"lines":[84,85]},"content":"亥二、破由无根身所生： 318"}]}]}]},{"type":"list_item","depth":40,"payload":{"lines":[85,86]},"content":"申二、除诤论分二： 319","children":[{"type":"list_item","depth":42,"payload":{"lines":[86,87]},"content":"酉一、遣除并存不容有： 319"},{"type":"list_item","depth":42,"payload":{"lines":[87,88]},"content":"酉二、除依能依变非理： 320"}]}]}]}]}]},{"type":"list_item","depth":32,"payload":{"lines":[88,89]},"content":"辰二、成义自宗立随存： 320"}]},{"type":"list_item","depth":30,"payload":{"lines":[89,90]},"content":"卯二、宣说彼者无随灭分二： 321","children":[{"type":"list_item","depth":32,"payload":{"lines":[90,91]},"content":"辰一、总破分二： 321","children":[{"type":"list_item","depth":34,"payload":{"lines":[91,92]},"content":"巳一、说无随灭之立宗： 321"},{"type":"list_item","depth":34,"payload":{"lines":[92,93]},"content":"巳二、广立彼之合理性分二： 321","children":[{"type":"list_item","depth":36,"payload":{"lines":[93,94]},"content":"午一、说过失： 321"},{"type":"list_item","depth":36,"payload":{"lines":[94,95]},"content":"午二、破遣过分二： 321","children":[{"type":"list_item","depth":38,"payload":{"lines":[95,96]},"content":"未一、顺缘不全答非理分二： 321","children":[{"type":"list_item","depth":40,"payload":{"lines":[96,97]},"content":"申一、遮破： 321"},{"type":"list_item","depth":40,"payload":{"lines":[97,98]},"content":"申二、自不同理： 322"}]},{"type":"list_item","depth":38,"payload":{"lines":[98,99]},"content":"未二、具有违缘非答复分二： 323","children":[{"type":"list_item","depth":40,"payload":{"lines":[99,100]},"content":"申一、前答复分二： 323","children":[{"type":"list_item","depth":42,"payload":{"lines":[100,101]},"content":"酉一、宣说他宗： 323"},{"type":"list_item","depth":42,"payload":{"lines":[101,102]},"content":"酉二、破彼： 324"}]},{"type":"list_item","depth":40,"payload":{"lines":[102,103]},"content":"申二、后答复分二： 324","children":[{"type":"list_item","depth":42,"payload":{"lines":[103,104]},"content":"酉一、宣说他宗： 324"},{"type":"list_item","depth":42,"payload":{"lines":[104,105]},"content":"酉二、破彼分三： 325","children":[{"type":"list_item","depth":44,"payload":{"lines":[105,106]},"content":"戍一、略说： 325"},{"type":"list_item","depth":44,"payload":{"lines":[106,107]},"content":"戍二、广解： 325"},{"type":"list_item","depth":44,"payload":{"lines":[107,108]},"content":"戍三、说摄义： 326"}]}]}]}]}]}]},{"type":"list_item","depth":32,"payload":{"lines":[108,109]},"content":"辰二、别破身常有： 327 （11课）","children":[{"type":"list_item","depth":34,"payload":{"lines":[109,110]},"content":"巳一、真实说： 327"},{"type":"list_item","depth":34,"payload":{"lines":[110,119]},"content":"近取无变异，不变近取果，<br>\n如泥无变异，不变瓶子等。<br>\n何事无变异，转变何事彼，<br>\n彼近取非理，如黄野黄牛。<br>\n身心亦如是。<br>\n由于近取因身体没有变异，就不可能移位到或转变为近取果的本体，<br>\n如同泥土，在泥土自性没有改变而存在的同时，不可能转变成瓶子等。<br>\n任何一个事物没有改变，转变或产生其他某一事物，即它作为另一事物的近取因，是不合理的。就像黄牛与野黄牛、水与火、柱子与瓶子等一样毫无瓜葛。<br>\n同样的道理，身体和心识之间的关系也是如此，即它们之间不可能有随存随灭的近取因和近取果的关系。"},{"type":"list_item","depth":34,"payload":{"lines":[119,138]},"content":"巳二、除彼疑： 328<br>\n彼因俱有缘，生果即并存，<br>\n如火红铜液。<br>\n假设对方说：如果身体和心识不是近取因和近取<br>\n果的关系，那它们两者为什么有并存的决定性呢？<br>\n答：由众生业力牵引，在父母交合之际，心识投<br>\n生于红白明点融合之中而昏厥；而其身体的近取因则<br>\n存在于凝酪等心识的俱有缘中，从而完成投生。<br>\n正因为身心聚合之果，是宿业或引业之因引生<br>\n的，故乃至业的引力尚未完结之前一直并存；就像由<br>\n红铜自己前面的同类近取因中产生的铜，依靠火的俱<br>\n有缘熔化以后成为熔液，当时火与红铜的液体并存一<br>\n样。在此期间，前一刹那心是后一刹那心的近取因、<br>\n是后一刹那身的俱有缘，前一刹那身是后一刹那身的<br>\n近取因、<code>是后一刹那心的俱有缘</code>。而一旦宿业穷尽，<br>\n心就以另外的形式投生，身就变成尸体；就像红铜的<br>\n液体与火分离之后，火要么熄灭、要么作为他用，红<br>\n铜的液体要么恢复到固体的状态、要么以其他火继续<br>\n熬炼一样。"}]}]}]},{"type":"list_item","depth":28,"payload":{"lines":[138,139]},"content":"寅二、遮破同时之所依分二： 329","children":[{"type":"list_item","depth":30,"payload":{"lines":[139,140]},"content":"卯一、破不合理之他宗分二： 329","children":[{"type":"list_item","depth":32,"payload":{"lines":[140,141]},"content":"辰一、观察能依有无破分二： 329","children":[{"type":"list_item","depth":34,"payload":{"lines":[141,142]},"content":"巳一、观察能依有无破： 329","children":[{"type":"list_item","depth":36,"payload":{"lines":[142,143]},"content":"午一、遮破： 329"},{"type":"list_item","depth":36,"payload":{"lines":[143,144]},"content":"有无依无故，非是若谓有，"}]},{"type":"list_item","depth":34,"payload":{"lines":[144,145]},"content":"所住即所依。于此所依无，"},{"type":"list_item","depth":34,"payload":{"lines":[145,146]},"content":"住者外非他；是他彼之因，"},{"type":"list_item","depth":34,"payload":{"lines":[146,147]},"content":"彼于事作何？应成无毁灭。","children":[{"type":"list_item","depth":36,"payload":{"lines":[147,148]},"content":"午二、破彼答： 331"}]},{"type":"list_item","depth":34,"payload":{"lines":[148,149]},"content":"巳二、依彼理破其余理： 332"}]},{"type":"list_item","depth":32,"payload":{"lines":[149,150]},"content":"辰二、观察能依生灭破分二： 334","children":[{"type":"list_item","depth":34,"payload":{"lines":[150,151]},"content":"巳一、观察灭式而遮破： 334"},{"type":"list_item","depth":34,"payload":{"lines":[151,152]},"content":"巳二、观察增式而遮破分二： 335","children":[{"type":"list_item","depth":36,"payload":{"lines":[152,153]},"content":"午一、真破分二： 335","children":[{"type":"list_item","depth":38,"payload":{"lines":[153,154]},"content":"未一、真实： 335"},{"type":"list_item","depth":38,"payload":{"lines":[154,155]},"content":"未二、破彼答复： 336"}]},{"type":"list_item","depth":36,"payload":{"lines":[155,156]},"content":"午二、破他理： 337"}]}]}]},{"type":"list_item","depth":30,"payload":{"lines":[156,157]},"content":"卯二、安立自宗合理性分二： 338","children":[{"type":"list_item","depth":32,"payload":{"lines":[157,158]},"content":"辰一、真实： 338"},{"type":"list_item","depth":32,"payload":{"lines":[158,159]},"content":"辰二、他非理： 338"}]}]}]},{"type":"list_item","depth":26,"payload":{"lines":[159,160]},"content":"丑二、立自宗分二： 339","children":[{"type":"list_item","depth":28,"payload":{"lines":[160,161]},"content":"寅一、真实自宗： 339"},{"type":"list_item","depth":28,"payload":{"lines":[161,162]},"content":"寅二、除诤论： 340"}]}]},{"type":"list_item","depth":24,"payload":{"lines":[162,163]},"content":"子二、宣说彼者有能害分二： 341","children":[{"type":"list_item","depth":26,"payload":{"lines":[163,164]},"content":"丑一、非由有支所产生分二： 342","children":[{"type":"list_item","depth":28,"payload":{"lines":[164,165]},"content":"寅一、宣说有支有妨害： 342"},{"type":"list_item","depth":28,"payload":{"lines":[165,166]},"content":"寅二、遣除破彼非理诤分二： 343","children":[{"type":"list_item","depth":30,"payload":{"lines":[166,167]},"content":"卯一、彼无然见等合理分二： 343","children":[{"type":"list_item","depth":32,"payload":{"lines":[167,168]},"content":"辰一、遣除见等非理诤分二： 343","children":[{"type":"list_item","depth":34,"payload":{"lines":[168,169]},"content":"巳一、真实： 343"},{"type":"list_item","depth":34,"payload":{"lines":[169,170]},"content":"巳二、依彼破他理： 344"}]},{"type":"list_item","depth":32,"payload":{"lines":[170,171]},"content":"辰二、以喻说他许合理分二： 344","children":[{"type":"list_item","depth":34,"payload":{"lines":[171,172]},"content":"巳一、真实： 344"},{"type":"list_item","depth":34,"payload":{"lines":[172,173]},"content":"巳二、破彼答复： 346"}]}]},{"type":"list_item","depth":30,"payload":{"lines":[173,174]},"content":"卯二、有支虽无宜用词分二： 348","children":[{"type":"list_item","depth":32,"payload":{"lines":[174,175]},"content":"辰一、破许真名之有境分二： 348","children":[{"type":"list_item","depth":34,"payload":{"lines":[175,176]},"content":"巳一、说无实境运用理： 348"},{"type":"list_item","depth":34,"payload":{"lines":[176,177]},"content":"巳二、破分真假他答复： 348"}]},{"type":"list_item","depth":32,"payload":{"lines":[177,178]},"content":"辰二、说是反体有境理分三： 350","children":[{"type":"list_item","depth":34,"payload":{"lines":[178,179]},"content":"巳一、数等用词之原因： 350"},{"type":"list_item","depth":34,"payload":{"lines":[179,180]},"content":"巳二、宣说彼名之必要： 351"},{"type":"list_item","depth":34,"payload":{"lines":[180,181]},"content":"巳三、依彼说理及说喻分三： 351","children":[{"type":"list_item","depth":36,"payload":{"lines":[181,182]},"content":"午一、诠法有法之名称： 351"},{"type":"list_item","depth":36,"payload":{"lines":[182,183]},"content":"午二、诠聚聚支之名称： 352"},{"type":"list_item","depth":36,"payload":{"lines":[183,184]},"content":"午三、依彼教他亦通达： 355"}]}]}]}]}]},{"type":"list_item","depth":26,"payload":{"lines":[184,185]},"content":"丑二、破由分支而产生分二： 356","children":[{"type":"list_item","depth":28,"payload":{"lines":[185,186]},"content":"寅一、非由一切分支生： 356"},{"type":"list_item","depth":28,"payload":{"lines":[186,187]},"content":"寅二、非由一一分支生分二： 356","children":[{"type":"list_item","depth":30,"payload":{"lines":[187,188]},"content":"卯一、真实： 356"},{"type":"list_item","depth":30,"payload":{"lines":[188,189]},"content":"卯二、破彼遣过分二： 357","children":[{"type":"list_item","depth":32,"payload":{"lines":[189,190]},"content":"辰一、遮破分二： 357","children":[{"type":"list_item","depth":34,"payload":{"lines":[190,191]},"content":"巳一、略说： 357"},{"type":"list_item","depth":34,"payload":{"lines":[191,192]},"content":"巳二、广宣说分二： 357","children":[{"type":"list_item","depth":36,"payload":{"lines":[192,193]},"content":"午一、无分一类息非因： 357"},{"type":"list_item","depth":36,"payload":{"lines":[193,194]},"content":"午二、有分他类非是因分二： 358","children":[{"type":"list_item","depth":38,"payload":{"lines":[194,195]},"content":"未一、多是多因不合理： 359"},{"type":"list_item","depth":38,"payload":{"lines":[195,196]},"content":"未二、多是一因不合理： 360"}]}]}]},{"type":"list_item","depth":32,"payload":{"lines":[196,197]},"content":"辰二、自不相同分二： 361","children":[{"type":"list_item","depth":34,"payload":{"lines":[197,198]},"content":"巳一、真实： 361"},{"type":"list_item","depth":34,"payload":{"lines":[198,199]},"content":"巳二、他不同此分二： 362","children":[{"type":"list_item","depth":36,"payload":{"lines":[199,200]},"content":"午一、不同之理： 362"},{"type":"list_item","depth":36,"payload":{"lines":[200,201]},"content":"午二、除疑分二： 362","children":[{"type":"list_item","depth":38,"payload":{"lines":[201,202]},"content":"未一、略说： 362"},{"type":"list_item","depth":38,"payload":{"lines":[202,203]},"content":"未二、证彼合理分二： 364","children":[{"type":"list_item","depth":40,"payload":{"lines":[203,204]},"content":"申一、他宗破彼无能害： 364"},{"type":"list_item","depth":40,"payload":{"lines":[204,205]},"content":"申二、说他能立无意义： 365"}]}]}]}]}]}]}]}]}]}]},{"type":"list_item","depth":20,"payload":{"lines":[205,206]},"content":"壬二、遣修无边不容有分二： 366","children":[{"type":"list_item","depth":22,"payload":{"lines":[206,207]},"content":"癸一、辩论： 366"},{"type":"list_item","depth":22,"payload":{"lines":[207,208]},"content":"癸二、答复彼分二： 366","children":[{"type":"list_item","depth":24,"payload":{"lines":[208,209]},"content":"子一、差别改变分二： 366","children":[{"type":"list_item","depth":26,"payload":{"lines":[209,210]},"content":"丑一、略说： 366"},{"type":"list_item","depth":26,"payload":{"lines":[210,211]},"content":"丑二、广宣说分二： 367","children":[{"type":"list_item","depth":28,"payload":{"lines":[211,212]},"content":"寅一、改变不变说差别： 367"},{"type":"list_item","depth":28,"payload":{"lines":[212,213]},"content":"寅二、彼等结合差别基： 368"}]}]},{"type":"list_item","depth":24,"payload":{"lines":[213,214]},"content":"子二、无量分二： 369","children":[{"type":"list_item","depth":26,"payload":{"lines":[214,215]},"content":"丑一、真实： 369"},{"type":"list_item","depth":26,"payload":{"lines":[215,216]},"content":"丑二、除诤论分二： 370","children":[{"type":"list_item","depth":28,"payload":{"lines":[216,217]},"content":"寅一、遣除他亦成无量： 370"},{"type":"list_item","depth":28,"payload":{"lines":[217,218]},"content":"寅二、遣由种   子生之诤： 371"}]}]}]}]}]}]},{"type":"list_item","depth":16,"payload":{"lines":[218,219]},"content":"庚二、加行圆满说导师分三： 373","children":[{"type":"list_item","depth":18,"payload":{"lines":[219,220]},"content":"辛一、由悲修习方便生： 373"},{"type":"list_item","depth":18,"payload":{"lines":[220,221]},"content":"辛二、如何证悟方便理： 373"},{"type":"list_item","depth":18,"payload":{"lines":[221,222]},"content":"辛三、修习方便说导师： 376"}]}]},{"type":"list_item","depth":14,"payload":{"lines":[222,223]},"content":"己二、结尾： 377"}]},{"type":"list_item","depth":12,"payload":{"lines":[223,224]},"content":"戊二、果圆满分二： 378","children":[{"type":"list_item","depth":14,"payload":{"lines":[224,225]},"content":"己一、自利圆满说善逝分二： 378","children":[{"type":"list_item","depth":16,"payload":{"lines":[225,226]},"content":"庚一、略说： 378"},{"type":"list_item","depth":16,"payload":{"lines":[226,227]},"content":"庚二、广宣说分三： 378","children":[{"type":"list_item","depth":18,"payload":{"lines":[227,228]},"content":"辛一、善妙而逝： 379"},{"type":"list_item","depth":18,"payload":{"lines":[228,229]},"content":"辛二、不退而逝： 379"},{"type":"list_item","depth":18,"payload":{"lines":[229,230]},"content":"辛三、无余而逝分二： 380","children":[{"type":"list_item","depth":20,"payload":{"lines":[230,231]},"content":"壬一、真实： 380"},{"type":"list_item","depth":20,"payload":{"lines":[231,232]},"content":"壬二、除彼诤分二： 381","children":[{"type":"list_item","depth":22,"payload":{"lines":[232,233]},"content":"癸一、略说： 381"},{"type":"list_item","depth":22,"payload":{"lines":[233,234]},"content":"癸二、广宣说： 381"}]}]}]}]},{"type":"list_item","depth":14,"payload":{"lines":[234,235]},"content":"己二、他利圆满说救护： 382"}]}]},{"type":"list_item","depth":10,"payload":{"lines":[235,236]},"content":"丁二、救等逆式说能知分四： 384","children":[{"type":"list_item","depth":12,"payload":{"lines":[236,237]},"content":"戊一、宣说救护自性者分二： 384","children":[{"type":"list_item","depth":14,"payload":{"lines":[237,238]},"content":"己一、宣讲四谛说救护： 384"},{"type":"list_item","depth":14,"payload":{"lines":[238,239]},"content":"己二、宣说四谛各自性分四： 384","children":[{"type":"list_item","depth":16,"payload":{"lines":[239,240]},"content":"庚一、宣说当知之苦谛分二： 384","children":[{"type":"list_item","depth":18,"payload":{"lines":[240,241]},"content":"辛一、宣说痛苦之事相分二： 385","children":[{"type":"list_item","depth":20,"payload":{"lines":[241,242]},"content":"壬一、真实： 385"},{"type":"list_item","depth":20,"payload":{"lines":[242,243]},"content":"壬二、破邪分别分二： 385","children":[{"type":"list_item","depth":22,"payload":{"lines":[243,244]},"content":"癸一、破无轮回之承许： 385"},{"type":"list_item","depth":22,"payload":{"lines":[244,245]},"content":"癸二、破彼遣过之答复分三： 386","children":[{"type":"list_item","depth":24,"payload":{"lines":[245,246]},"content":"子一、破无轮回之依据分二： 386","children":[{"type":"list_item","depth":26,"payload":{"lines":[246,247]},"content":"丑一、风等惑因不合理分二： 386","children":[{"type":"list_item","depth":28,"payload":{"lines":[247,248]},"content":"寅一、略说： 386"},{"type":"list_item","depth":28,"payload":{"lines":[248,249]},"content":"寅二、广宣说分二： 386","children":[{"type":"list_item","depth":30,"payload":{"lines":[249,250]},"content":"卯一、遮破分三： 387","children":[{"type":"list_item","depth":32,"payload":{"lines":[250,251]},"content":"辰一、因果应成皆错乱： 387"},{"type":"list_item","depth":32,"payload":{"lines":[251,252]},"content":"辰二、因果应成颠倒矣分二： 389","children":[{"type":"list_item","depth":34,"payload":{"lines":[252,253]},"content":"巳一、真实： 390"},{"type":"list_item","depth":34,"payload":{"lines":[253,254]},"content":"巳二、破彼答复分二： 390","children":[{"type":"list_item","depth":36,"payload":{"lines":[254,255]},"content":"午一、对方承许： 390"},{"type":"list_item","depth":36,"payload":{"lines":[255,256]},"content":"午二、破彼分二： 390","children":[{"type":"list_item","depth":38,"payload":{"lines":[256,257]},"content":"未一、真破： 391"},{"type":"list_item","depth":38,"payload":{"lines":[257,258]},"content":"未二、破除过失： 391"}]}]}]},{"type":"list_item","depth":32,"payload":{"lines":[258,259]},"content":"辰三、应成决定唯一果： 392"}]},{"type":"list_item","depth":30,"payload":{"lines":[259,260]},"content":"卯二、自不同理： 393"}]}]},{"type":"list_item","depth":26,"payload":{"lines":[260,261]},"content":"丑二、亦破大种许为因分二： 393","children":[{"type":"list_item","depth":28,"payload":{"lines":[261,262]},"content":"寅一、真实破： 393"},{"type":"list_item","depth":28,"payload":{"lines":[262,263]},"content":"寅二、除诤论分二： 394","children":[{"type":"list_item","depth":30,"payload":{"lines":[263,264]},"content":"卯一、除教义说之相违： 394"},{"type":"list_item","depth":30,"payload":{"lines":[264,265]},"content":"卯二、除于彼时之诤论分二： 395","children":[{"type":"list_item","depth":32,"payload":{"lines":[265,266]},"content":"辰一、遣除无别不成诤： 395"},{"type":"list_item","depth":32,"payload":{"lines":[266,267]},"content":"辰二、于彼他许不相同分二： 396","children":[{"type":"list_item","depth":34,"payload":{"lines":[267,268]},"content":"巳一、宣说他许有妨害： 396"},{"type":"list_item","depth":34,"payload":{"lines":[268,269]},"content":"巳二、于彼自宗不相同： 398"}]}]}]}]}]},{"type":"list_item","depth":24,"payload":{"lines":[269,270]},"content":"子二、立有轮回之依据分二： 399","children":[{"type":"list_item","depth":26,"payload":{"lines":[270,271]},"content":"丑一、真实： 399"},{"type":"list_item","depth":26,"payload":{"lines":[271,272]},"content":"丑二、破彼诤论： 399"}]},{"type":"list_item","depth":24,"payload":{"lines":[272,273]},"content":"子三、说无轮回有妨害分三： 401","children":[{"type":"list_item","depth":26,"payload":{"lines":[273,274]},"content":"丑一、略说： 401"},{"type":"list_item","depth":26,"payload":{"lines":[274,275]},"content":"丑二、广说分二： 401","children":[{"type":"list_item","depth":28,"payload":{"lines":[275,276]},"content":"寅一、唯大种因太过分： 401"},{"type":"list_item","depth":28,"payload":{"lines":[276,277]},"content":"寅二、大种差别不合理分二： 402","children":[{"type":"list_item","depth":30,"payload":{"lines":[277,278]},"content":"卯一、真实： 402"},{"type":"list_item","depth":30,"payload":{"lines":[278,279]},"content":"卯二、破彼答复分二： 403","children":[{"type":"list_item","depth":32,"payload":{"lines":[279,280]},"content":"辰一、遮破意义理： 403"},{"type":"list_item","depth":32,"payload":{"lines":[280,281]},"content":"辰二、遮破比喻理分二： 404","children":[{"type":"list_item","depth":34,"payload":{"lines":[281,282]},"content":"巳一、比喻意义不相同： 404"},{"type":"list_item","depth":34,"payload":{"lines":[282,283]},"content":"巳二、若许相同太过分： 405"}]}]}]}]},{"type":"list_item","depth":26,"payload":{"lines":[283,284]},"content":"丑三、摄义： 406"}]}]}]}]},{"type":"list_item","depth":18,"payload":{"lines":[284,285]},"content":"辛二、宣说苦谛之法相分四： 407","children":[{"type":"list_item","depth":20,"payload":{"lines":[285,286]},"content":"壬一、无常： 407"},{"type":"list_item","depth":20,"payload":{"lines":[286,287]},"content":"壬二、苦： 407"},{"type":"list_item","depth":20,"payload":{"lines":[287,288]},"content":"壬三、空： 407"},{"type":"list_item","depth":20,"payload":{"lines":[288,289]},"content":"壬四、无我分二： 408","children":[{"type":"list_item","depth":22,"payload":{"lines":[289,290]},"content":"癸一、真实： 408"},{"type":"list_item","depth":22,"payload":{"lines":[290,291]},"content":"癸二、彼合理性： 408"}]}]}]},{"type":"list_item","depth":16,"payload":{"lines":[291,292]},"content":"庚二、宣说当断之集谛分二： 409","children":[{"type":"list_item","depth":18,"payload":{"lines":[292,293]},"content":"辛一、建立痛苦具有因： 409"},{"type":"list_item","depth":18,"payload":{"lines":[293,294]},"content":"辛二、认清痛苦彼之因分二： 409","children":[{"type":"list_item","depth":20,"payload":{"lines":[294,295]},"content":"壬一、遮破非理之他许分二： 410","children":[{"type":"list_item","depth":22,"payload":{"lines":[295,296]},"content":"癸一、遮破承许无有因分二： 410","children":[{"type":"list_item","depth":24,"payload":{"lines":[296,297]},"content":"子一、真实： 410"},{"type":"list_item","depth":24,"payload":{"lines":[297,298]},"content":"子二、除诤论： 410"}]},{"type":"list_item","depth":22,"payload":{"lines":[298,299]},"content":"癸二、破自在天等他因： 411"}]},{"type":"list_item","depth":20,"payload":{"lines":[299,300]},"content":"壬二、建立理成之自宗分三： 411","children":[{"type":"list_item","depth":22,"payload":{"lines":[300,301]},"content":"癸一、认识生因即是爱： 412"},{"type":"list_item","depth":22,"payload":{"lines":[301,302]},"content":"癸二、结合教证宣说义： 413"},{"type":"list_item","depth":22,"payload":{"lines":[302,303]},"content":"癸三、遣除于彼之诤论： 414"}]}]}]},{"type":"list_item","depth":16,"payload":{"lines":[303,304]},"content":"庚三、宣说当得之灭谛分二： 416","children":[{"type":"list_item","depth":18,"payload":{"lines":[304,305]},"content":"辛一、建立痛苦有灭尽； 416"},{"type":"list_item","depth":18,"payload":{"lines":[305,306]},"content":"辛二、遮彼不容之疑虑分二： 417","children":[{"type":"list_item","depth":20,"payload":{"lines":[306,307]},"content":"壬一、无我缚解则合理分二： 417","children":[{"type":"list_item","depth":22,"payload":{"lines":[307,308]},"content":"癸一、我非轮回之自性： 417"},{"type":"list_item","depth":22,"payload":{"lines":[308,309]},"content":"癸二、我执说为轮回因分二： 418","children":[{"type":"list_item","depth":24,"payload":{"lines":[309,310]},"content":"子一、真实： 418"},{"type":"list_item","depth":24,"payload":{"lines":[310,311]},"content":"子二、除彼诤论分二： 419","children":[{"type":"list_item","depth":26,"payload":{"lines":[311,312]},"content":"丑一、离贪不住轮回中分二： 419","children":[{"type":"list_item","depth":28,"payload":{"lines":[312,313]},"content":"寅一、真实： 419"},{"type":"list_item","depth":28,"payload":{"lines":[313,314]},"content":"寅二、除彼疑虑分二： 419","children":[{"type":"list_item","depth":30,"payload":{"lines":[314,315]},"content":"卯一、除以业住之诤论： 419"},{"type":"list_item","depth":30,"payload":{"lines":[315,316]},"content":"卯二、除以悲住之诤论： 420"},{"type":"list_item","depth":30,"payload":{"lines":[316,317]},"content":"卯三、宣说住亦无过失： 421"}]}]},{"type":"list_item","depth":26,"payload":{"lines":[317,318]},"content":"丑二、断除道初无有有分二： 422","children":[{"type":"list_item","depth":28,"payload":{"lines":[318,319]},"content":"寅一、略说： 422"},{"type":"list_item","depth":28,"payload":{"lines":[319,320]},"content":"寅二、广宣说分二： 423","children":[{"type":"list_item","depth":30,"payload":{"lines":[320,321]},"content":"卯一、宣说俱生我见体： 423"},{"type":"list_item","depth":30,"payload":{"lines":[321,322]},"content":"卯二、彼无无有有之理： 423"}]}]}]}]}]},{"type":"list_item","depth":20,"payload":{"lines":[322,323]},"content":"壬二、有我缚解不合理分二： 423","children":[{"type":"list_item","depth":22,"payload":{"lines":[323,324]},"content":"癸一、常我无缚无解脱： 423"},{"type":"list_item","depth":22,"payload":{"lines":[324,325]},"content":"癸二、不可说我无有彼： 424"}]}]}]},{"type":"list_item","depth":16,"payload":{"lines":[325,326]},"content":"庚四、宣说当修之道谛分二： 426","children":[{"type":"list_item","depth":18,"payload":{"lines":[326,327]},"content":"辛一、无我永是解脱道分二： 426","children":[{"type":"list_item","depth":20,"payload":{"lines":[327,328]},"content":"壬一、真实： 426"},{"type":"list_item","depth":20,"payload":{"lines":[328,329]},"content":"壬二、除彼诤论分四： 426","children":[{"type":"list_item","depth":22,"payload":{"lines":[329,330]},"content":"癸一、遣除断治能力同分二： 426","children":[{"type":"list_item","depth":24,"payload":{"lines":[330,331]},"content":"子一、略说： 426"},{"type":"list_item","depth":24,"payload":{"lines":[331,332]},"content":"子二、广宣说分二： 427","children":[{"type":"list_item","depth":26,"payload":{"lines":[332,333]},"content":"丑一、无有勤奋无退转分二： 427","children":[{"type":"list_item","depth":28,"payload":{"lines":[333,334]},"content":"寅一、现前永久无能力： 427"},{"type":"list_item","depth":28,"payload":{"lines":[334,335]},"content":"寅二、纵非现前亦不退： 429"}]},{"type":"list_item","depth":26,"payload":{"lines":[335,336]},"content":"丑二、纵有勤奋亦不退： 429"}]}]},{"type":"list_item","depth":22,"payload":{"lines":[336,337]},"content":"癸二、除烦恼非无余尽分二： 429","children":[{"type":"list_item","depth":24,"payload":{"lines":[337,338]},"content":"子一、贪等他法不毁他： 429"},{"type":"list_item","depth":24,"payload":{"lines":[338,339]},"content":"子二、认识摧毁之对治分二： 430","children":[{"type":"list_item","depth":26,"payload":{"lines":[339,340]},"content":"丑一、宣说所毁诸过根分二： 431","children":[{"type":"list_item","depth":28,"payload":{"lines":[340,341]},"content":"寅一、真实： 431"},{"type":"list_item","depth":28,"payload":{"lines":[341,342]},"content":"寅二、除彼疑虑： 431"}]},{"type":"list_item","depth":26,"payload":{"lines":[342,343]},"content":"丑二、宣说能毁之对治： 432"}]}]},{"type":"list_item","depth":22,"payload":{"lines":[343,344]},"content":"癸三、除惑永尽不可能： 433"},{"type":"list_item","depth":22,"payload":{"lines":[344,345]},"content":"癸四、遣除虽尽复退转： 433"}]}]},{"type":"list_item","depth":18,"payload":{"lines":[345,346]},"content":"辛二、彼外余道非如是分二： 434","children":[{"type":"list_item","depth":20,"payload":{"lines":[346,347]},"content":"壬一、有我执中不解脱分二： 434","children":[{"type":"list_item","depth":22,"payload":{"lines":[347,348]},"content":"癸一、真实： 434"},{"type":"list_item","depth":22,"payload":{"lines":[348,349]},"content":"癸二、说彼之理分三： 435","children":[{"type":"list_item","depth":24,"payload":{"lines":[349,350]},"content":"子一、唯有我中无离贪分三： 435","children":[{"type":"list_item","depth":26,"payload":{"lines":[350,351]},"content":"丑一、略说： 435"},{"type":"list_item","depth":26,"payload":{"lines":[351,352]},"content":"丑二、广说分二： 435","children":[{"type":"list_item","depth":28,"payload":{"lines":[352,353]},"content":"寅一、遮破见过而除贪分二： 436","children":[{"type":"list_item","depth":30,"payload":{"lines":[353,354]},"content":"卯一、唯见过失不能断： 436"},{"type":"list_item","depth":30,"payload":{"lines":[354,355]},"content":"卯二、无有过失亦过分： 437"}]},{"type":"list_item","depth":28,"payload":{"lines":[355,356]},"content":"寅二、遮破修苦而除贪分二： 438","children":[{"type":"list_item","depth":30,"payload":{"lines":[356,357]},"content":"卯一、唯知痛苦非离贪分二： 438","children":[{"type":"list_item","depth":32,"payload":{"lines":[357,358]},"content":"辰一、唯知痛苦非离贪分二： 438","children":[{"type":"list_item","depth":34,"payload":{"lines":[358,359]},"content":"巳一、唯见有境为痛苦分二： 438","children":[{"type":"list_item","depth":36,"payload":{"lines":[359,360]},"content":"午一、唯见痛苦亦不除： 438"},{"type":"list_item","depth":36,"payload":{"lines":[360,361]},"content":"午二、依彼不舍我所心分三： 440","children":[{"type":"list_item","depth":38,"payload":{"lines":[361,362]},"content":"未一、并非始终是痛苦： 440"},{"type":"list_item","depth":38,"payload":{"lines":[362,363]},"content":"未二、纵然本是不成见分二： 442","children":[{"type":"list_item","depth":40,"payload":{"lines":[363,364]},"content":"申一、断除贪因不合理分二： 442","children":[{"type":"list_item","depth":42,"payload":{"lines":[364,365]},"content":"酉一、贪因之我无有断： 442"},{"type":"list_item","depth":42,"payload":{"lines":[365,366]},"content":"酉二、是故知苦无实义： 445"}]},{"type":"list_item","depth":40,"payload":{"lines":[366,367]},"content":"申二、虽贪变成无过失： 446"}]},{"type":"list_item","depth":38,"payload":{"lines":[367,368]},"content":"未三、虽见不断我所心： 447"}]}]},{"type":"list_item","depth":34,"payload":{"lines":[368,369]},"content":"巳二、了知异体非离贪： 449"}]},{"type":"list_item","depth":32,"payload":{"lines":[369,370]},"content":"辰二、宣说离贪即如何： 451"}]},{"type":"list_item","depth":30,"payload":{"lines":[370,371]},"content":"卯二、释说观修痛苦义： 451"}]}]},{"type":"list_item","depth":26,"payload":{"lines":[371,372]},"content":"丑三、末义： 452"}]},{"type":"list_item","depth":24,"payload":{"lines":[372,373]},"content":"子二、虽有解脱我无义： 453"},{"type":"list_item","depth":24,"payload":{"lines":[373,374]},"content":"子三、是故教诫断我执： 453"}]}]},{"type":"list_item","depth":20,"payload":{"lines":[374,375]},"content":"壬二、破许解脱之余道分二： 453","children":[{"type":"list_item","depth":22,"payload":{"lines":[375,376]},"content":"癸一、破依自在教解脱分二： 453","children":[{"type":"list_item","depth":24,"payload":{"lines":[376,377]},"content":"子一、唯教非为真能立： 454"},{"type":"list_item","depth":24,"payload":{"lines":[377,378]},"content":"子二、遮破其是合理性分二： 454","children":[{"type":"list_item","depth":26,"payload":{"lines":[378,379]},"content":"丑一、遮破能立似现量分二： 454","children":[{"type":"list_item","depth":28,"payload":{"lines":[379,380]},"content":"寅一、种   子力失非能立： 454"},{"type":"list_item","depth":28,"payload":{"lines":[380,381]},"content":"寅二、重变成轻亦非理： 455"}]},{"type":"list_item","depth":26,"payload":{"lines":[381,382]},"content":"丑二、宣说比量有妨害分二： 456","children":[{"type":"list_item","depth":28,"payload":{"lines":[382,383]},"content":"寅一、生因与彼不相违分二： 456","children":[{"type":"list_item","depth":30,"payload":{"lines":[383,384]},"content":"卯一、真实： 456"},{"type":"list_item","depth":30,"payload":{"lines":[384,385]},"content":"卯二、破彼除过分二： 457","children":[{"type":"list_item","depth":32,"payload":{"lines":[385,386]},"content":"辰一、   未见失毁答非理： 457"},{"type":"list_item","depth":32,"payload":{"lines":[386,387]},"content":"辰二、说与彼许实相违： 459"}]}]},{"type":"list_item","depth":28,"payload":{"lines":[387,388]},"content":"寅二、立因相违之自宗： 461"}]}]}]},{"type":"list_item","depth":22,"payload":{"lines":[388,389]},"content":"癸二、破由业身尽解脱分二： 462","children":[{"type":"list_item","depth":24,"payload":{"lines":[389,390]},"content":"子一、真实： 462"},{"type":"list_item","depth":24,"payload":{"lines":[390,391]},"content":"子二、破彼答复： 464"}]}]}]}]}]}]},{"type":"list_item","depth":12,"payload":{"lines":[391,392]},"content":"戊二、说由救护知善逝： 467"},{"type":"list_item","depth":12,"payload":{"lines":[392,393]},"content":"戊三、说由善逝知导师： 468"},{"type":"list_item","depth":12,"payload":{"lines":[393,394]},"content":"戊四、说由导师知具悲： 468"}]}]}]},{"type":"list_item","depth":6,"payload":{"lines":[394,395]},"content":"乙二、摄集彼之一切义： 468"}]},{"type":"list_item","depth":4,"payload":{"lines":[395,396]},"content":"甲三、如是宣说之必要： 469"}]}]}],"payload":{}},{})</script>



<script>
  window.addEventListener("keypress", log);

  var mmdataroot = mm.state.data;
  var flatNodeQueue = [];
  var flatNodeQueuePos = 0;
  let mmNodeMap = new Map();
// flatNodeQueue.push(2);         // queue is now [2]
// flatNodeQueue.push(5);         // queue is now [2, 5]
// var i = flatNodeQueue.shift(); // queue is now [5]

  function traverse_tree(root)
{
     
    // Stack to store the nodes
    var nodes = [];
 
    // Push the current node onto the stack
    nodes.push(root);
 
    // Loop while the stack is not empty
    while (nodes.length != 0)
    {
         
        // Store the current node and pop
        // it from the stack
        var curr = nodes.pop();
        flatNodeQueue.push(curr);
        mmNodeMap.set(curr.state.id.toString(), curr);
        curr.payload.fold = true;
 
        // Current node has been travarsed
        if (curr != null && curr.children != null)
        {
            document.write(curr.key + " ");
 
            // Store all the childrent of
            // current node from right to left.
            for(var i = curr.children.length - 1;
                    i >= 0; i--)
            {
              if (curr.children[i] != null && curr.children[i].children != null) {
                nodes.push(curr.children[i]);
              }
            }
        }
    }
}

const hideAll = (target) => {
  target.payload = {
    ...target.payload,
    fold: true,
  }

  target.children?.forEach((t) => {
    hideAll(t)
  })
}

function renderMMNodeWithPath() {
  hideAll(mmdataroot);

  // var currNode = flatNodeQueue.shift();
  var currNode = flatNodeQueue[flatNodeQueuePos];

  // if(flatNodeQueuePos>0) {
  // }
  if(currNode != null) {
    console.log(currNode);
    console.log(currNode.state.path);
    const currPath = currNode.state.path.split(".");
    currPath.forEach(element => {
      console.log(element);
      console.log(mmNodeMap.get(element));
      mmNodeMap.get(element).payload.fold = false;
    });
    // mm.setData(currNode);

    if(flatNodeQueuePos > 2) {
      flatNodeQueue[flatNodeQueuePos-1].payload.fold = false;
      flatNodeQueue[flatNodeQueuePos-2].payload.fold = false;
    }
    if(flatNodeQueuePos < flatNodeQueue.length - 2) {
      flatNodeQueue[flatNodeQueuePos+1].payload.fold = false;
      flatNodeQueue[flatNodeQueuePos+2].payload.fold = false;
    }

    mm.renderData();
    mm.fit();
  }
}

traverse_tree(mmdataroot);
mmdataroot.payload.fold = false;
mm.renderData();
mm.fit();
console.log(flatNodeQueue);
console.log(mmNodeMap);

  function log(e) {
    console.log(event.type);
    if (e.key === "j" && flatNodeQueuePos > 1) {
      // var testNode = mmdataroot.children[1].children[2];
      // console.log(testNode);

      // testNode.payload.fold = !((testNode.payload) != null && testNode.payload.fold)
      // mm.renderData();
      // mm.fit();
      
      flatNodeQueuePos--;        
      renderMMNodeWithPath();
      
    } else if (e.key === "k" && flatNodeQueuePos < flatNodeQueue.length) {    
      flatNodeQueuePos++;       
      renderMMNodeWithPath();       

    } else if (e.key === "0") {
      //mm.fit();
      console.log(mm.state.data);
      flatNodeQueuePos = 0;
      mm.setData(mmdataroot);
      mm.fit();
    } else if (e.key === "d") {
      console.log(mm);
    }  else if (e.key === "f") {
      mm.fit();
    }
  }
</script>
</body>
</html>
